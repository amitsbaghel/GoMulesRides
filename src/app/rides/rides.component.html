<main role="main" class="container w-75">
  <!-- mt-2  -->
  <div class="jumbotron">

<div>

  <div class="form-row" >
  <input #distance id="distance" class="col-6 form-control" type="text" placeholder="distance" aria-label="distance">
  <input #duration id="duration" class="col-6 form-control" type="text" placeholder="duration" aria-label="duration">
</div>
<hr>
</div>
      <form class="form-inline mt-2 mt-md-0 justify-content-end">
          
          <input #fromcity class="form-control mr-sm-2" type="text" placeholder="From" aria-label="Search">
          <input #tocity class="form-control mr-sm-2" type="text" placeholder="To" aria-label="Search">
          <button (click)="search(fromcity.value,tocity.value)" class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
        <hr>
    <div class="card">
      <div class="card-header">
        Rides
      </div>
      <div class="card-body">

        <!-- this card to repeat -->
          <div *ngFor="let ride of ridesDetails" class="card flex-md-row mb-4 shadow-sm h-md-250">
              <div class="card-body d-flex flex-column align-items-start">
                <!-- <strong class="d-inline-block mb-2 text-success">Design</strong> -->
                <!-- <h3 class="mb-0"> -->
                <a class="text-dark" href="#">From {{ride.from}} to {{ride.to}}</a>
                <!-- </h3> -->
                <div class="mb-1 text-muted">{{ride.date | date:'MM/dd/yyyy'}} at {{ride.time | date:'hh:mm a' }} </div>
                <div class="mb-1 text-muted">Seats available {{ride.seat}} </div>
                <div class="mb-1 text-muted">Per person charge {{ride.charge | currency:'USD'}} </div>
                <div class="mb-1 text-muted">Uploaded by {{ride.userId.name}}</div>
                <p class="card-text mb-auto"> If any details comes here.</p>
                
                <ul class="nav justify-content-center">
                    <li class="nav-item">
                        <button type="button" (click)="totalSeat=ride.seat;chargeperSeat=ride.charge;rideID=ride._id;seatselected=1;open(content)" class="btn btn-link nav-link active">Book</button>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link active" href="#">Communicate</a>
                    </li>
                  </ul>
              </div>
              <!-- <img class="card-img-right flex-auto d-none d-lg-block" data-src="holder.js/200x250?theme=thumb" alt="Thumbnail [200x250]" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22200%22%20height%3D%22250%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20200%20250%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_166b7fc8587%20text%20%7B%20fill%3A%23eceeef%3Bfont-weight%3Abold%3Bfont-family%3AArial%2C%20Helvetica%2C%20Open%20Sans%2C%20sans-serif%2C%20monospace%3Bfont-size%3A13pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_166b7fc8587%22%3E%3Crect%20width%3D%22200%22%20height%3D%22250%22%20fill%3D%22%2355595c%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%2256.1953125%22%20y%3D%22131%22%3EThumbnail%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" style="width: 200px; height: 250px;"> -->
            </div>
      </div>
    </div>

    <!-- modal pop up starts :: booking -->
    <ng-template #content let-modal>
        <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">Ride Booking</h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form>
            <div class="form-row">
            <div class="form-group col">
              <label for="wallet">Wallet</label>
              <input class="form-control" name="wallet" type="text" placeholder="50" readonly>
              </div>
              <div class="form-group col">
                  <label for="seatsAvailable">Seats Available</label>
                  <input class="form-control" value={{totalSeat}} name="seatsAvailable" type="text" placeholder="seats Available" readonly>
                  </div>
                </div>
                <div class="form-row">
                <div class="form-group col">
                    <label for="seatselect">Select Seat</label>
                    <input class="form-control" [(ngModel)]="seatselected" name="seatselect" type="text" placeholder="Select Seats">
              </div>
              <div class="form-group col">
                  <label for="totalcharge">Charges per person {{chargeperSeat}} </label>
                  <input class="form-control" value={{seatselected*chargeperSeat}} name="totalcharge" type="text" placeholder="Calculated charges">
            </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Book</button>
        </div>
      </ng-template>
      <!-- modal pop up ends :: booking -->
  </div>
</main>